#! /usr/bin/env python
import urllib2
from urlparse import urlsplit
from os.path import basename
import re
import os

url_s = "http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUvprj5lOSaS01ctcm1BfbdYicc7OsCzUoLkxuC4haLGbG4r34tX82Gsv7kaqQBAuoj7Pew5DibzC4mA/640?wx_fmt=png,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9D8NMXUCI40tpSnleebNvo1dLrO2X0ojyMAW9EUmmk7Ytth6qtOicLibtQ/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DqPmdrv69GlO2pfzLVibC7fjsLFQZvhX0ia1ExKDO1YZTjPVxEvCNib9icw/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DLK8Bkib6YMzMe8Yvk7MFoA5jOfXxefpPQlibvMRV9kPfK78tnmA2ibORw/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DZZE0c08bwhEjFClPNOuCglQFwvNoTOg7KsHXbAGcmDZLayEqibeZwSA/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DmeZDCicnMHricI3Tib6ZUib0TSiaW2qxpPRGaVFuNib43a8B93wY9AXQFXicA/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DjPYgDY9sIJnZrlgvgtgzat0t4npHiaSSoEyF0rGOD7icK4ToibxOJZfYw/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9D7wTV5NuoGxdWwmRgfpmrdmfyXyUI0Iib46yKGxe0PyMYWYr2T1YpzKQ/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DSeu8fS1tl3m07FkX1yVibJNBosPBdmY2qGo1mbhicU8ZYaAW91Q4KE6g/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DhEhmFzD638xSsmP3jPLEfoyUibjYLd1lNQTYsmaY6m2ZDoclCB0vib6A/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9D8kvZER30jwoK8dAGZTx1Enyrt8QjN3BSzXR2xHzhQ7Fm0T2Vic2vIBg/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9D8qCDrzQIHhfticp6IUHZB2NtPLXUNPPibZrpJMhweGSjM0jSdnaJdaMg/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DGh9w4vqX5mFjia97MOZ7HynuwWEZ8llBJhD5dINfChvHfIGu5ibMA5Rg/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DsvAYcDw6VL5by39n5StBbAmaByEgm4Y8j4mEriaBdb8BRdIkDVkzk2Q/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9Det7RV8MnCdbJmng227QicdbsCZJib1eKRmOCQLiaM5OXI9MubOxFuOtlA/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DB5HETqRZYlncBkuH3S1JGzhFt9m0QGiauCvo1xk8boic8KSM81jFOsYg/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9D5QnYjSwOxCEN2nAb8VuPLNx1rsibYahqG9sdu3jOG1dU6Kh8PRqETyg/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9D2KD81Ubpo9afX43Fz9yR1tHevBABnIo6DjzicATNvfebpBX0icNxviasQ/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9Ds4wKA4rU2a5fEQmzpPIoDOjfRG7QHI7GwGEHSavcA6hXAhGHGbkW4g/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DlJLIO6GpIvKAWmXWrc0EypwAYubB4LnZ9xRhzO1dlZRFibFySZ8dTiag/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DqYKK2icgbXP6U2onC49YibBflOMgRH4TicxZslxDEaNuebzAEDQTNibTyQ/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DjZmicqnNOBtrFC0fSvwxAdtosC0JPoicYT89MkoHQjp7jMOfgIW2gjVA/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DgjDIDZfa6J3hkX08LJmxNMEDc2F7mO6tfzHxhsQW10Gmy7ibS4iaTfWg/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUtGPejbiae9iaVdEEial580FdepHuSYtlFggxwJOZRoBWkibr8ibibHwD9ib8azukqpP3XGRq0n3jLop1yOg/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9D8WiaTkp0aGDbiaOS3jDQv619pXjWWWO4d8lGYDdqV6Uo1u0pOtxEWzyw/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DrerSBSwzxVm78Z1Sjg3qykCibbaYDaP15RhnickX0PSzCw30CictUnvGg/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9D6UYp43Nu1ZXC5rvEnuia8Pg4bYrnau5ehiaZOpSMTrtV2wcAhe5cA7dg/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9D9FYbumeZd8kPWr38gwTdiaCwIlRDicKXicIic36rXmicpmFO2X78QD1TSsw/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9D2GsUhcHQ7NbyKVc156RzdpoB8cUz52NCq3cu1YvCcgHfUYJwBicH1DQ/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DsLABCMWia9bH8P4YQiciaAQzaQic7CyqXgddfuW4yLPHaPZUicH5Uiaj9q4Q/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9D3Lu1Qh53FzGomk5icOTYHibrzadhZlCDJByFPd53M0cQy1fzZh45wo9g/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9D3XqhzWm6L4MrtNFiaF06vDQhHY7YSvvv4OSSjaxuzI7nmmDhxiaTNic7A/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9D193vc4duGD5werice0DtBfviaQnZLzAhR0BXtpcn6nLSoTYngm0HibG3g/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DarJasguIvDsegiaiclNPXsib5NESBRUjtS9KOvAqZE3SKKiaQp7Wrb982g/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9Dt0ee0SichOgLLJv5cgHHZjdwVrqtd8Kqwq1gV2mZYqYuLGEO2T64X4w/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DYWMynibr0sQYTkgM9bovw54VjWcdBnOEj5zicwVxFB9Hy6VwHhwibCzdQ/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DKuPEEB6lKWXUF9ZNsNClSorkmsVCo2omcm20NqzxUicpOhsehrHQWvg/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9Dn9dr5Se6VZ7ES0agpWkNz9h4MvO7yiccRX48tTC03yIMBXTsXTKzMCQ/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DrutZXaJz9TAYhbDt5chI9bwlsYuSAwMqeyFOCfMzvqJzJLdMF1WiaOA/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DqkuA4M5sJwzuqXOk7kZ9ULNNLEYianyicV1r8jdHOTUAqUM6cRBy8GLw/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9D3Ke88YqHtlFXrElavlPhZ3ZyicNP16gKDtMw9XwOreT39TmbuPfGs8A/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DjOMJDujcE8VX0dDVOMoTOotjwtyDOO7Lu6x4bIxnS9vuw1CZmD6xwQ/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9D9zxkib01yNsotMmqxBaTYGlpJyNucfSiaS2qfE9KiaHbffvdiaiaAo4HVjw/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DpiaMO2OErwMoJCAIClH9d1rZMTlhCBWHKcsJfK0KsdWPJiccKxo5W9Ww/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DKI1S9SFgMuc2icibbIjOibw2rlRtA63LCesFKP4VjAOAYsyKOUIpay6Hg/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUuGBVQGmVicicWbd3zzF7PU9DO1eBOyKfC74uZYWWVc39WS3Uu3XNN9udK0F1TzVckUhPW41Hs5cgSQ/0?wx_fmt=jpeg,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUsaSVZM8y1rzefOO9h15lyjWKzDjKQzygIduiciaMpa8uwG0gmxMiaCH6cNhOxOEFtNjxhL2735LGrZA/640?wx_fmt=png,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUsaSVZM8y1rzefOO9h15lyj6l979ia8TTkLTicjN4slzFsebOhz32sYzRDUbOhVJoue9ZxKmsDQWkRA/0?wx_fmt=gif,http://mmbiz.qpic.cn/mmbiz/4iafz4Y2YZUsaSVZM8y1rzefOO9h15lyjziab05LHQ7WYeSQdIDK1dmJN5nNNdSibOiaxdxaKrJiahkgibByI4gqiamUg/0?"

if not os.path.exists('wangying_images'):
	os.mkdir("wangying_images")

urls = url_s.split(",")
file_index = 1
p = re.compile('wx_fmt=')
for url in urls:
	img_data = urllib2.urlopen(url).read()
	url_str = basename(urlsplit(url)[3])
	houzhui = p.sub("", url_str)
	file_name = str(file_index) + "." +houzhui
	output = open('wangying_images/' + file_name, 'wb')
	output.write(img_data)
	output.close()
	print(file_name)
	file_index+=1



